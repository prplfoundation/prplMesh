
sudo: required
dist: xenial
language: python2.7

services:
  - docker

script:
  - cd tools/docker
  - sudo ./image-build.sh -b ubuntu:18.04
  - sudo ./build.sh build map -f MSGLIB=zmq BUILD_TESTS=ON
  - sudo ./test.sh test -c start --skip-platform
  - sudo ./test.sh test -c status 
  # Check that the AutoGenerated files are correct by checking git status
  - git update-index -q --refresh
  - git diff-index --exit-code HEAD

